<div style="display: flex">
  <div class="flex-1"></div>
  <div class="cli-form-title c-male mt-3">{{ DATA_PRODUCT ? "Actualizar" : "Crear" }} producto</div>
  <div class="flex-1"></div>
  <button (click)="close()" class="icon-btn btn-trans c-orange moda-close-btn"><mat-icon>close</mat-icon></button>
</div>

<form class="row g-3" [formGroup]="productForm">
  <div class="cli-form newvac-wrapper">
    <div class="chart-draw">
      <!-- -------------------------------------------REGISTROS PRODUCTOS------------------------------->
      <div style="display: flex" *ngIf="DATA_PRODUCT">
        <div class="flex-1"></div>
        <div class="mt-2 id-product">ID : <span class="total">{{ product_Id }}</span></div>
      </div>

        <div class="pr-module-container mb-3">
          <div class="row g-3">
            <div class="cli-form-element col-f-3">
              <label>Producto <small style="color: #ff4081;">*</small></label>
              <input type="text"
                class="cli-input_x"
                formControlName="product"/>
              <small class="form-text text-alert" *ngIf="campoNoValido('product')">* Ingrese el Producto es obligatorio</small>
            </div>

            <div class="cli-form-element col-f-3">
              <label>Categoría <small style="color: #ff4081;">*</small></label>
              <select class="cli-input_x" formControlName="category">
                <option [value]="0" disabled>- Seleccione -</option>
                <option [value]="cat.nombre" *ngFor="let cat of listCategories">{{ cat.nombre }}</option>
              </select>
              <small class="form-text text-alert" *ngIf="campoNoValido('category')" >* Seleccione la Categoría es obligatorio</small>
            </div>

            <div class="cli-form-element col-f-3">
              <label>Precio <small style="color: #ff4081;">*</small></label>
              <input type="text"
                class="cli-input_x"
                formControlName="price"/>
              <small class="form-text text-alert" *ngIf="campoNoValido('price')">* Ingrese el Precio es obligatorio</small>
            </div>

            <div class="cli-form-element col-f-3">
              <label>Total <small style="color: #ff4081;">*</small></label>
              <input type="number"
                class="cli-input_x"
                [min]="0"
                formControlName="stock"/>
              <small class="form-text text-alert" *ngIf="campoNoValido('stock')">* Ingrese el Stock es obligatorio</small>
            </div>

            <div class="cli-form-element col-f-3" *ngIf="DATA_PRODUCT">
              <label class="form-label">Estado</label>
              <select class="cli-input_x" formControlName="state">
                <option [value]="10" disabled>-Seleccione-</option>
                <option [value]="est.id" *ngFor="let est of listState">{{ est.nombre }}</option>
              </select>
              <small class="form-text text-alert" *ngIf="campoNoValido('idEstado')">* Este campo es obligatorio</small>
            </div>

            <div class="cli-form-element col-f-3" *ngIf="DATA_PRODUCT">
                <label>Fecha creación</label>
                <input type="date" readonly="true"
                    class="cli-input_x"
                    formControlName="create_date">
            </div>
          </div>
        </div>
    </div>

    <!-- --------------------------------------------BOTONES ------------------------------------------>
    <div class="cli-form-buttons" style="margin-top: 2%">
      <button class="cli-btn btn-m btn-cancel" type="submit" (click)="close()">
        <mat-icon class="icon-18">cancel</mat-icon> Cancelar
      </button>

      <button
        class="cli-btn btn-m btn-blue"
        (click)="createOrUpdateProduct()"
        [disabled]="productForm.invalid"
        ><mat-icon class="icon-18">save</mat-icon> {{ actionBtn }}
      </button>
    </div>
  </div>
</form>
